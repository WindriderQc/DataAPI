# ==============================================
# DataAPI Configuration Template
# Copy this file to .env and customize for your environment.
# ==============================================

# ----------------------------------------------
# 1. Server Configuration
# ----------------------------------------------
# Environment: development, production, test
NODE_ENV=development
# Port to run the DataAPI server on
PORT=3003

# ----------------------------------------------
# 2. Security & Authentication (REQUIRED)
# ----------------------------------------------
# API Key for AgentX to authenticate with DataAPI
# All tool endpoints under /api/v1 require header: x-api-key: <DATAAPI_API_KEY>
DATAAPI_API_KEY=change_me_long_random

# Secondary API Key for other integrations (e.g., legacy scripts)
INTEGRATIONS_API_KEY=change-me-long-random

# ----------------------------------------------
# 3. Database Configuration (MongoDB)
# ----------------------------------------------
# Connection string for MongoDB (Required)
MONGO_URL=mongodb://localhost:27017/
# Database name
MONGO_DB_NAME=data
# Additional connection options
MONGO_OPTIONS=?retryWrites=true&w=majority&authSource=admin

# Control whether to start mongodb-memory-server when no MONGO_URL is provided.
# Set to 'true' for test environments where an in-memory MongoDB is desirable.
USE_MONGO_MEMORY=false

# ----------------------------------------------
# 4. Data Services Configuration
# ----------------------------------------------

# MQTT Broker (Optional - for ISS tracking)
MQTT_BROKER_URL=https://mqtt.yourserver.ca
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_ISS_TOPIC=sbqc/iss

# Geolocation API (Optional - for location services)
LOCATION_IQ_API=keyyyyyyyyyyyyyyyy

# File Scanner Configuration
# Comma-separated list of root directories to scan
SCANNER_DEFAULT_ROOTS=/mnt/media,/mnt/datalake
# File extensions to include in scan
SCANNER_INCLUDE_EXT=jpg,png,mp4,mkv,mp3,pdf,avi
# Batch size for database operations
SCANNER_BATCH_SIZE=1000

# ----------------------------------------------
# 5. Network Tuning (Advanced)
# ----------------------------------------------
# Global defaults for external API requests
DEFAULT_FETCH_TIMEOUT_MS=8000
DEFAULT_FETCH_RETRIES=1

# Per-service overrides
ISS_FETCH_TIMEOUT_MS=5000
ISS_FETCH_RETRIES=2

QUAKES_FETCH_TIMEOUT_MS=15000
QUAKES_FETCH_RETRIES=2