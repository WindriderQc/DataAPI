# Server Configuration
NODE_ENV=development
PORT=3003

# Tool-server auth (AgentX -> DataAPI)
# All tool endpoints under /api/v1 should require this header:
#   x-api-key: <DATAAPI_API_KEY>
DATAAPI_API_KEY=change_me_long_random


# n8n integration (inbound from n8n)
# n8n calls DataAPI at /api/v1/n8n/* with:
#   x-api-key: <N8N_API_KEY>
N8N_API_KEY=change_me_long_random
# Optional: restrict n8n endpoints to LAN/private IPs only
N8N_LAN_ONLY=true

# n8n webhook dispatch (outbound from DataAPI -> n8n)
# Used by /integrations/n8n/trigger and internal event hooks.
N8N_WEBHOOK_BASE_URL=https://n8n.example.com/webhook
N8N_WEBHOOK_GENERIC=change-me-webhook-id

# MQTT Broker Configuration (Optional)
MQTT_BROKER_URL=https://mqtt.yourserver.ca
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_ISS_TOPIC=sbqc/iss

# Database Configuration
MONGO_URL=mongodb+srv://user:passg@cluster.mongodb.net/
MONGO_DB_NAME=data
MONGO_OPTIONS=?retryWrites=true&w=majority&authSource=admin


# Geolocation API Key
LOCATION_IQ_API=keyyyyyyyyyyyyyyyy

# Fetch / API request tuning (timeouts in milliseconds, retries as integer)
# Global defaults applied when per-endpoint values are not set
# DEFAULT_FETCH_TIMEOUT_MS: default timeout (ms) for server-side fetch requests
# DEFAULT_FETCH_RETRIES: default number of retries for transient network errors
DEFAULT_FETCH_TIMEOUT_MS=8000
DEFAULT_FETCH_RETRIES=1

# Per-endpoint overrides (optional)
# ISS API: how long to wait for the request and how many retries to attempt
ISS_FETCH_TIMEOUT_MS=5000
ISS_FETCH_RETRIES=2

# Quakes API: typically larger because of CSV size and slower upstream
QUAKES_FETCH_TIMEOUT_MS=15000
QUAKES_FETCH_RETRIES=2

# Control whether to start mongodb-memory-server when no MONGO_URL is provided.
# Set to 'true' for test environments where an in-memory MongoDB is desirable.
# Leave as 'false' (or unset) on production/dev servers to avoid filling /tmp.
USE_MONGO_MEMORY=false

# Scanner Configuration
SCANNER_DEFAULT_ROOTS=/mnt/smb/Media,/mnt/smb/Datalake
SCANNER_INCLUDE_EXT=jpg,png,mp4,mkv,mp3,pdf,avi
SCANNER_BATCH_SIZE=1000
INTEGRATIONS_API_KEY=change-me-long-random
